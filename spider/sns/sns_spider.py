# coding: utf-8
import urllib2
import urllib
import cookielib
import re
from lxml import etree
from bs4 import BeautifulSoup
#from lxml.html import soupparser
#values = {"username":"1016903103@qq.com","password":"XXXX"}
#data = urllib.urlencode(values)
import xml.etree.ElementTree as ET


class RedirectHandler(urllib2.HTTPRedirectHandler):
    def http_error_301(self, req, fp, code, msg, headers):
        pass
    def http_error_302(self, req, fp, code, msg, headers):
        pass


def req_302(opener, request):
    try:
        response = opener.open(request)
    except urllib2.HTTPError, e:
        print e.code
        if e.code == 301 or e.code == 302:
            response = req_302(opener, request)
    return response


def get_content(html, key_empha):
    html = re.sub(key_empha, r'\1', html)
    dom = etree.HTML(html)
    for item in dom.iterfind("body/div"):
        if item.get("class") == 'c' and item.get("id"):
            if len(item) == 1:
                for subitem in item.iterfind("div/span"):
                    if subitem.get("class") == "ctt":
                        print etree.tostring(subitem, method='text', encoding='UTF-8')
            else:
                for subitem in item.iterfind("div"):
                    is_target = True
                    for subsubitem in subitem.iterfind("span"):
                        if subsubitem.get("class") == "ctt":
                            is_target = False
                    if is_target:
                        raw = etree.tostring(subitem, method="text", encoding="UTF-8")
                        # raw = "èµ[1]èµ[1]"
                        pattern = re.compile(u'(èµ\[\d*\])', re.U)
                        match = re.search(pattern, raw.decode("utf-8"))
                        print raw.decode("utf-8")[:match.start()]


headers = {"Cookie": "_T_WM=c5b9d937f930cc19d8ece8707cc62fc5; SUB=_2A256COhaDeRxGeRP41YW9y_Ozz2IHXVZ8ogSrDV6PUJbrdANLXCkkW1LHesEl_fj1Iyc9VMQ9_4OTANJhLuuGQ..; gsid_CTandWM=4uHucb1c1gOXARzCFZIuB9amf3T",
           "User-Agent": "Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2587.3 Safari/537.36"}
url = "http://weibo.cn/search/mblog?hideSearchFrame=&keyword=%E6%B5%81%E6%84%9F&page="
data = {"keyword": "æµæ„Ÿ",
        "smblog": "æœå¾®åš"}
httpHandler = urllib2.HTTPHandler(debuglevel=1)
httpsHandler = urllib2.HTTPSHandler(debuglevel=1)
opener = urllib2.build_opener(RedirectHandler)

key_empha = re.compile(u'<span\s*class="kt">(\w+)</span>', re.U|re.I)
for page in range(1, 101):
    print page
    request = urllib2.Request(url + str(page), headers=headers)
    #response = urllib2.urlopen(request)
    response = req_302(opener, request)
    html = response.read()
    print get_content(html, key_empha)


html = u"""
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Cache-Control" content="no-cache"/><meta id="viewport" name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0, maximum-scale=2.0" /><link rel="icon" sizes="any" mask href="http://h5.sinaimg.cn/upload/2015/05/15/28/WeiboLogoCh.svg" color="black"><meta name="MobileOptimized" content="240"/><title>æœç´¢ç»“æœ</title><style type="text/css" id="internalStyle">html,body,p,form,div,table,textarea,input,span,select{font-size:12px;word-wrap:break-word;}body{background:#F8F9F9;color:#000;padding:1px;margin:1px;}table,tr,td{border-width:0px;margin:0px;padding:0px;}form{margin:0px;padding:0px;border:0px;}textarea{border:1px solid #96c1e6}textarea{width:95%;}a,.tl{color:#2a5492;text-decoration:underline;}/*a:link {color:#023298}*/.k{color:#2a5492;text-decoration:underline;}.kt{color:#F00;}.ib{border:1px solid #C1C1C1;}.pm,.pmy{clear:both;background:#ffffff;color:#676566;border:1px solid #b1cee7;padding:3px;margin:2px 1px;overflow:hidden;}.pms{clear:both;background:#c8d9f3;color:#666666;padding:3px;margin:0 1px;overflow:hidden;}.pmst{margin-top: 5px;}.pmsl{clear:both;padding:3px;margin:0 1px;overflow:hidden;}.pmy{background:#DADADA;border:1px solid #F8F8F8;}.t{padding:0px;margin:0px;height:35px;}.b{background:#e3efff;text-align:center;color:#2a5492;clear:both;padding:4px;}.bl{color:#2a5492;}.n{clear:both;background:#436193;color:#FFF;padding:4px; margin: 1px;}.nt{color:#b9e7ff;}.nl{color:#FFF;text-decoration:none;}.nfw{clear:both;border:1px solid #BACDEB;padding:3px;margin:2px 1px;}.s{border-bottom:1px dotted #666666;margin:3px;clear:both;}.tip{clear:both; background:#c8d9f3;color:#676566;border:1px solid #BACDEB;padding:3px;margin:2px 1px;}.tip2{color:#000000;padding:2px 3px;clear:both;}.ps{clear:both;background:#FFF;color:#676566;border:1px solid #BACDEB;padding:3px;margin:2px 1px;}.tm{background:#feffe5;border:1px solid #e6de8d;padding:4px;}.tm a{color:#ba8300;}.tmn{color:#f00}.tk{color:#ffffff}.tc{color:#63676A;}.c{padding:2px 5px;}.c div a img{border:1px solid #C1C1C1;}.ct{color:#9d9d9d;font-style:italic;}.cmt{color:#9d9d9d;}.ctt{color:#000;}.cc{color:#2a5492;}.nk{color:#2a5492;}.por {border: 1px solid #CCCCCC;height:50px;width:50px;}.me{color:#000000;background:#FEDFDF;padding:2px 5px;}.pa{padding:2px 4px;}.nm{margin:10px 5px;padding:2px;}.hm{padding:5px;background:#FFF;color:#63676A;}.u{margin:2px 1px;background:#ffffff;border:1px solid #b1cee7;}.ut{padding:2px 3px;}.cd{text-align:center;}.r{color:#F00;}.g{color:#0F0;}.bn{background: transparent;border: 0 none;text-align: left;padding-left: 0;}</style><script>if(top != self){top.location = self.location;}</script></head><body><div class="tm"><a href="http://weibo.cn/msg/?unread=1"><span class="tmn">1</span>ç§ä¿¡</a>&nbsp;&nbsp;<a href="http://weibo.cn/msg/clearAllUnread?type=dcm&amp;rl=1"><img src="http://u1.sinaimg.cn/upload/2011/08/01/5366.gif" alt="[X]" /></a><br/></div><div class="n" style="padding: 6px 4px;"><a href="http://weibo.cn/?tf=5_009" class="nl">é¦–é¡µ</a>|<a href="http://weibo.cn/msg/?tf=5_010" class="nl">æ¶ˆæ¯</a>|<a href="http://huati.weibo.cn" class="nl">è¯é¢˜</a>|<a href="http://weibo.cn/search/?tf=5_012" class="nl">æœç´¢</a>|<a href="/search/mblog?keyword=%E6%B5%81%E6%84%9F&amp;page=95&amp;rand=1117&amp;p=r" class="nl">åˆ·æ–°</a></div><div class="c"><a href="/pub/?rand=433944">è¿”å›å¾®åšå¹¿åœº</a></div><div class="c"><form action="/search/" method="post"><div><input type="text" name="keyword" value="æµæ„Ÿ"  /><input type="submit" name="smblog" value="æœå¾®åš" /></div></form></div><div class="c"><span class="cmt">å…±8511493æ¡</span></div><div class="tip">ç±»å‹:å…¨éƒ¨-<a href="/search/mblog/?keyword=%E6%B5%81%E6%84%9F&amp;filter=hasori">åŸåˆ›</a>-<a href="/search/mblog/?keyword=%E6%B5%81%E6%84%9F&amp;filter=hasv">è®¤è¯</a>-<a href="/search/mblog/?keyword=%E6%B5%81%E6%84%9F&amp;advanced=mblog&amp;rl=1">æ›´å¤š&gt;&gt;</a><br/>æ’åº:å®æ—¶-<a href="/search/mblog/?keyword=%E6%B5%81%E6%84%9F&amp;sort=hot">çƒ­é—¨</a></div><div class="c" id="M_Dqi01ACA5"><div><a class="nk" href="http://weibo.cn/u/5217192387">ä¸äº¦ä¹ä¹0505</a><span class="cmt">&nbsp;è½¬å‘äº†&nbsp;<a href="http://weibo.cn/baby">æ–°æµªè‚²å„¿</a><img src="http://u1.sinaimg.cn/upload/2011/07/28/5337.gif" alt="V"/><img src="http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png" alt="M"/>&nbsp;çš„å¾®åš:</span><span class="ctt"><a href="http://weibo.cn/pages/100808topic?extparam=%E6%B5%81%E6%84%9F%E4%B8%8E%E6%84%9F%E5%86%923%E5%8C%BA%E5%88%AB&amp;from=feed">#æµæ„Ÿä¸æ„Ÿå†’3åŒºåˆ«#</a>æ„Ÿå’Œæ™®é€šæ„Ÿå†’æœ€å¤§çš„åŒºåˆ«å°±åœ¨äºï¼Œ<span class="kt">æµæ„Ÿ</span>â€œæ€¥â€ï¼Œçªç„¶ç•å¯’ã€æ€¥èµ·é«˜çƒ­ã€å¤´ç—›ã€å…¨èº«ä¹åŠ›ã€é¼»å¡ã€æµæ¶•ç­‰å‘¼å¸é“ç—‡çŠ¶ï¼Œç—‡çŠ¶æ¥å¾—æ€¥å´ä¸å®¹æ˜“å¥½ã€‚è€Œæ™®é€šæ„Ÿå†’åœ¨å…¨èº«ç—‡çŠ¶ä¸Šè¾ƒè½»ï¼Œä¸å‘çƒ­æˆ–è€…ä½çƒ­ï¼Œä¼šæœ‰æµé¼»æ¶• <br/>ã€æ‰“å–·åšçš„ç—‡çŠ¶ã€‚ä¸€èˆ¬çš„æ™®é€šæ„Ÿå†’3-5å¤©å°±èƒ½ç—Šæ„ˆâ€¦è¯¦ç»†ï¼š<a href="http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FRG8CVxU&amp;ep=Dqi01ACA5%2C5217192387%2CDpoHLpIzG%2C1655524143">http://t.cn/RG8CVxU</a></span> [<a href="http://weibo.cn/mblog/pic/DpoHLpIzG?rl=1">å›¾ç‰‡</a>]&nbsp;<span class="cmt">èµ[12]</span>&nbsp;<span class="cmt">åŸæ–‡è½¬å‘[29]</span>&nbsp;<a href="http://weibo.cn/comment/DpoHLpIzG?rl=1#cmtfrm" class="cc">åŸæ–‡è¯„è®º[1]</a><!----></div><div><span class="cmt">è½¬å‘ç†ç”±:</span><a href="/n/%E4%B8%8D%E4%BA%A6%E4%B9%90%E4%B9%8E201405">@ä¸äº¦ä¹ä¹201405</a> <span class="kt">æµæ„Ÿ</span>&nbsp;&nbsp;<a href="http://weibo.cn/attitude/Dqi01ACA5/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[0]</a>&nbsp;<a href="http://weibo.cn/repost/Dqi01ACA5?uid=5217192387&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/Dqi01ACA5?uid=5217192387&amp;rl=1#cmtfrm" class="cc">è¯„è®º[0]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/Dqi01ACA5?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 10:16&nbsp;æ¥è‡ªåä¸ºAscend Mate7</span></div></div><div class="s"></div><div class="c" id="M_DqhZ3fOES"><div><a class="nk" href="http://weibo.cn/u/3206554861">å¿˜å¤šä¹ˆéš¾</a><span class="ctt">:ã€å®¶æœ‰å® ç‰©çš„å‡†å¦ˆå¦ˆåº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿã€‘å® ç‰©å¯èƒ½æºå¸¦ç—…èŒæˆ–å¯„ç”Ÿè™«ï¼Œå¦‚æœä½ å‘çƒ­æˆ–å…¶ä»–ç±»ä¼¼<span class="kt">æµæ„Ÿ</span>çš„ç—‡çŠ¶ï¼Œä¸€å®šè¦å»åŒ»é™¢å°±è¯Šã€‚1.çŒ«å¯èƒ½ä¼ æ’­å¼“å½¢è™«ï¼Œä½ éœ€è¦åšå¼“å½¢è™«æŠ—ä½“æ£€æŸ¥ã€‚2.ä¹Œé¾Ÿã€é¸Ÿç±»ã€èœ¥èœ´ç­‰å¯èƒ½æºå¸¦æ²™é—¨æ°èŒã€‚å°½é‡è¯·å®¶é‡Œå…¶ä»–äººç…§é¡¾è¿™äº›åŠ¨ç‰©ï¼Œå¤„ç†ç²ªä¾¿å’Œæ¸…ç†ç¬¼èˆç­‰ã€‚</span> [<a href="http://weibo.cn/mblog/pic/DqhZ3fOES?rl=1">å›¾ç‰‡</a>]&nbsp;<a href="http://weibo.cn/attitude/DqhZ3fOES/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[0]</a>&nbsp;<a href="http://weibo.cn/repost/DqhZ3fOES?uid=3206554861&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhZ3fOES?uid=3206554861&amp;rl=1#cmtfrm" class="cc">è¯„è®º[0]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhZ3fOES?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 10:13&nbsp;æ¥è‡ªä¸‰æ˜ŸGalaxy_S</span></div></div><div class="s"></div><div class="c" id="M_DqhYSE4eC"><div><a class="nk" href="http://weibo.cn/u/3968752700">ç”¨æˆ·rnoj5eyml5</a><span class="ctt">:ã€å’–å–±å¯æŠµå¾¡æ„Ÿå†’ã€‘å…¨çƒç¬¬ä¸€ç¯‡å…³äºå’–å–±è¯ç”¨ä»·å€¼çš„ç ”ç©¶æ–‡ç« å‘è¡¨äº1970å¹´ï¼Œåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œåœ¨åŒ»å­¦æ–‡çŒ®æ£€ç´¢ç³»ç»Ÿä¸Šå·²æœ‰1700ç¯‡ç ”ç©¶æ–‡ç« ã€‚å¯ä»¥è¯´ï¼Œå’–å–±çš„è¯ç”¨ä»·å€¼å·²ç»å¼•èµ·äº†å…¨ä¸–ç•Œçš„å…³æ³¨ã€‚ä¸€ä½å°åº¦åŒ»ç”Ÿä¹Ÿè¯´ï¼Œ<span class="kt">æµæ„Ÿ</span>å¾ˆéš¾åœ¨å°åº¦æµè¡Œï¼Œå°±æ˜¯å› ä¸ºäººä»¬å¤©å¤©åƒå’–å–±ï¼ŒæŠŠ<span class="kt">æµæ„Ÿ</span>æ¶ˆç­åœ¨äº†èŒèŠ½çŠ¶æ€ã€‚</span> [<a href="http://weibo.cn/mblog/pic/DqhYSE4eC?rl=1">å›¾ç‰‡</a>]&nbsp;<a href="http://weibo.cn/attitude/DqhYSE4eC/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[0]</a>&nbsp;<a href="http://weibo.cn/repost/DqhYSE4eC?uid=3968752700&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhYSE4eC?uid=3968752700&amp;rl=1#cmtfrm" class="cc">è¯„è®º[0]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhYSE4eC?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 10:13&nbsp;æ¥è‡ªå¾®åš weibo.com</span></div></div><div class="s"></div><div class="c" id="M_DqhYvjJyF"><div><a class="nk" href="http://weibo.cn/u/1714080997">çœ‹ç»½æ”¾çš„çµçŠ€</a><span class="ctt">:ç¬¬190å¤©ã€‚è€å…¬è¯·åƒè‚¯å¾·åŸºå•¦ï¼Œæœ€è¿‘ä¸æ˜¯ç¦½<span class="kt">æµæ„Ÿ</span>å˜›ï¼Œå‘µå‘µï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä»¬ä¸åƒé¸¡è‚‰ï¼ [ä½ç½®]<a href="http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Ft.cn%2FRyhpIRU&amp;ep=DqhYvjJyF%2C1714080997%2CDqhYvjJyF%2C1714080997">å®£åŸÂ·æ±½è½¦ç«™</a></span>&nbsp;<a href="http://place.weibo.com/imgmap/poiid=8008634180200000015&amp;center=30.93345,118.75491&amp;backurl=http%253A%252F%252Fweibo.cn%252Fsearch%252Fmblog%253Fkeyword%253D%2525E6%2525B5%252581%2525E6%252584%25259F%2526amp%253Bpage%253D95%2526amp%253Brand%253D1117">æ˜¾ç¤ºåœ°å›¾</a> &nbsp;[<a href="http://weibo.cn/mblog/picAll/DqhYvjJyF?rl=2">ç»„å›¾å…±6å¼ </a>][<a href="http://weibo.cn/mblog/pic/DqhYvjJyF?rl=1">å›¾ç‰‡</a>]&nbsp;<a href="http://weibo.cn/attitude/DqhYvjJyF/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[0]</a>&nbsp;<a href="http://weibo.cn/repost/DqhYvjJyF?uid=1714080997&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhYvjJyF?uid=1714080997&amp;rl=1#cmtfrm" class="cc">è¯„è®º[0]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhYvjJyF?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 10:12&nbsp;æ¥è‡ªFlyme OS</span></div></div><div class="s"></div><div class="c" id="M_DqhYs4Gmq"><div><a class="nk" href="http://weibo.cn/u/5168302678">å’Œä¹å ‚å°å„¿æ¨æ‹¿</a><img src="http://u1.sinaimg.cn/upload/h5/img/hyzs/donate_btn_s.png" alt="M"/><span class="ctt">:æ¸…æ˜ä¸å¹¸è¢«<span class="kt">æµæ„Ÿ</span>å‡»ä¸­ï¼Œå„¿å­ä¹Ÿæœªèƒ½å¹¸å…ï¼Œä»å¼€å§‹æµé¼»æ¶•åˆ°æ”¯æ°”ç®¡ç‚å†åˆ°åé¢çš„è‚ºè™šå’³å—½ï¼Œæˆ‘çš„å†…å¿ƒä¹Ÿç»å†äº†ä¸€ç•ªç—›è‹¦çš„æŒ£æ‰ï¼         æ”¯æ°”ç®¡ç‚å¯¼è‡´çš„å‰§å’³è®©äººçª’æ¯ï¼Œä½†ä»¥å¾€çš„ç»éªŒå‘Šè¯‰æˆ‘ï¼Œè¿™æ˜¯äººä½“æ­£æ°”ä¸é‚ªæ°”åœ¨ææ–—ï¼Œä¸¤å¤©çš„å‰§å’³ï¼Œä¸‰æ¬¡æ¨æ‹¿ï¼Œç”¨ç©´å…«å¦å¹³è‚è‚ºå››æ¨ªçº¹å¤©æ²³æ°´ï¼Œåˆ°ç¬¬ä¸‰å¤©å‰§å’³åœæ­‡äº†ï¼[è€¶]ç»ˆäºèƒœåˆ©äº†ï¼</span> &nbsp;<a href="http://weibo.cn/attitude/DqhYs4Gmq/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[0]</a>&nbsp;<a href="http://weibo.cn/repost/DqhYs4Gmq?uid=5168302678&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhYs4Gmq?uid=5168302678&amp;rl=1#cmtfrm" class="cc">è¯„è®º[0]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhYs4Gmq?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 10:12&nbsp;æ¥è‡ªä¸‰æ˜ŸGALAXY A</span></div></div><div class="s"></div><div class="c" id="M_DqhYgeWIc"><div><a class="nk" href="http://weibo.cn/u/3198262260">_ç•ªèŒ„çˆ±ä¸Šç‚’è›‹_</a><span class="ctt">:<a href="http://weibo.cn/pages/100808topic?extparam=%E4%BB%8A%E6%97%A5%E8%B4%B4%E7%BA%B8%E6%89%93%E5%8D%A1&amp;from=feed">#ä»Šæ—¥è´´çº¸æ‰“å¡#</a>â€œè£å¹¸çš„â€èµ¶ä¸Š<span class="kt">æµæ„Ÿ</span>çš„å°å°¾å·´[ç¡][ç™½çœ¼]</span> [<a href="http://weibo.cn/mblog/pic/DqhYgeWIc?rl=1">å›¾ç‰‡</a>]&nbsp;<a href="http://weibo.cn/attitude/DqhYgeWIc/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[3]</a>&nbsp;<a href="http://weibo.cn/repost/DqhYgeWIc?uid=3198262260&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhYgeWIc?uid=3198262260&amp;rl=1#cmtfrm" class="cc">è¯„è®º[0]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhYgeWIc?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 10:11&nbsp;æ¥è‡ªiPhone 6s Plus</span></div></div><div class="s"></div><div class="c" id="M_DqhR17AsN"><div><a class="nk" href="http://weibo.cn/u/1891068794">è”¡è”¡å¦ˆ-3-</a><span class="ctt">:å¥³å„¿é•¿å¤§æˆäººäº†ï¼Œåœ¨è¿™ç‰¹åˆ«çš„æ—¥å­é‡Œï¼Œ<span class="kt">æµæ„Ÿ</span>å›å±…ç„¶æ‰¾ä¸Šå¥¹[æ„Ÿå†’][å›°]39åº¦é«˜æ¸©å‘€ğŸŒ¡ï¼Œå¸Œæœ›å¥¹å¿«å¿«å¥½èµ·æ¥[å¼ºå£®]ğŸ»ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›å¥¹åŠªåŠ›å†²åˆºï¼Œäº‰å–è€ƒä¸Šç†æƒ³å¤§å­¦ï¼Œçˆ±ä½ å“¦[çˆ±ä½ ]<a href="/n/%E5%A4%A9%E7%B7%9A%E5%AF%B6%E5%AF%B6de%E5%B0%8F%E6%B3%A2">@å¤©ç·šå¯¶å¯¶deå°æ³¢</a></span> &nbsp;<a href="http://weibo.cn/attitude/DqhR17AsN/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[2]</a>&nbsp;<a href="http://weibo.cn/repost/DqhR17AsN?uid=1891068794&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhR17AsN?uid=1891068794&amp;rl=1#cmtfrm" class="cc">è¯„è®º[2]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhR17AsN?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 09:53&nbsp;æ¥è‡ªiPhone 6 Plus</span></div></div><div class="s"></div><div class="c" id="M_DqhQQ7MGH"><div><a class="nk" href="http://weibo.cn/u/2535778800">Lawranceå®å®</a><span class="ctt">:äººåªæœ‰ç”Ÿç—…çš„æ—¶å€™æ‰èƒ½ä½“ä¼šåˆ°å¥åº·çš„é‡è¦æ€§ï¼Œè¢«å°æœ‹å‹ä¼ æŸ“çš„<span class="kt">æµæ„Ÿ</span>è®©äººæµ‘èº«ä¸èˆ’æœã€‚</span> &nbsp;<a href="http://weibo.cn/attitude/DqhQQ7MGH/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[0]</a>&nbsp;<a href="http://weibo.cn/repost/DqhQQ7MGH?uid=2535778800&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhQQ7MGH?uid=2535778800&amp;rl=1#cmtfrm" class="cc">è¯„è®º[2]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhQQ7MGH?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 09:53&nbsp;æ¥è‡ªiPhone 6 Plus</span></div></div><div class="s"></div><div class="c" id="M_DqhPzziJI"><div><a class="nk" href="http://weibo.cn/u/2346268940">æŸèˆŸä¹‹é±¼</a><span class="ctt">:æ˜¥å­£çš„<span class="kt">æµæ„Ÿ</span>æŠŠæˆ‘å‡¶çŒ›ä¾µèš€ã€‚[å“¼]</span> &nbsp;<a href="http://weibo.cn/attitude/DqhPzziJI/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[2]</a>&nbsp;<a href="http://weibo.cn/repost/DqhPzziJI?uid=2346268940&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhPzziJI?uid=2346268940&amp;rl=1#cmtfrm" class="cc">è¯„è®º[2]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhPzziJI?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 09:50&nbsp;æ¥è‡ª<a href="http://weibo.cn/sinaurl?f=w&amp;u=http%3A%2F%2Fdown.sina.cn%2Fsinaclient%2Fweibo%2Findex%2Fgsid%2F0%2Fmid%2F0">iPhoneå®¢æˆ·ç«¯</a></span></div></div><div class="s"></div><div class="c" id="M_DqhK1kH9N"><div><a class="nk" href="http://weibo.cn/u/3738640233">å››å·æœå·ç½‘</a><img src="http://u1.sinaimg.cn/upload/2011/07/28/5337.gif" alt="V"/><span class="ctt">:<a href="http://weibo.cn/pages/100808topic?extparam=%E5%9B%9B%E5%B7%9D%E5%9F%8E%E4%BA%8B&amp;from=feed">#å››å·åŸäº‹#</a> å¼“å½¢è™«çš„å­¦åæ˜¯â€œToxoplasma gondiiâ€ï¼Œå®ƒæ˜¯ä¸€ç§å¤–å½¢åƒæ–°æœˆç‰™çš„è™«å­ï¼Œå¯ä»¥ä¾µå…¥äººä½“ä¸­æ¢ç¥ç»ç³»ç»Ÿã€‚äººä»¬é€šå¸¸åƒæœªç…®ç†Ÿçš„è‚‰é£Ÿæˆ–æ¥è§¦è¢«çŒ«æ„ŸæŸ“çš„åƒåœ¾ç‰©è´¨ä¼šæ„ŸæŸ“å¼“å½¢è™«ã€‚æœ‰äº›äººä½“å†…å­˜åœ¨æŠ—ä½“ï¼Œå³ä½¿æš´éœ²åœ¨å¼“å½¢è™«æ„ŸæŸ“çš„ç¯å¢ƒä¸‹ä¹Ÿä¸ä¼šå‡ºç°ä»»ä½•ç—‡çŠ¶ã€‚ äººä½“è¡¨ç°ç—‡çŠ¶ï¼š<span class="kt">æµæ„Ÿ</span>ã€å‘çƒ§ã€å‘å†·ã€ç–²åŠ³ã€å¤´ç—›ã€‚</span> [<a href="http://weibo.cn/mblog/pic/DqhK1kH9N?rl=1">å›¾ç‰‡</a>]&nbsp;<a href="http://weibo.cn/attitude/DqhK1kH9N/add?uid=2184771241&amp;rl=1&amp;st=ff2fed">èµ[0]</a>&nbsp;<a href="http://weibo.cn/repost/DqhK1kH9N?uid=3738640233&amp;rl=1">è½¬å‘[0]</a>&nbsp;<a href="http://weibo.cn/comment/DqhK1kH9N?uid=3738640233&amp;rl=1#cmtfrm" class="cc">è¯„è®º[0]</a>&nbsp;<a href="http://weibo.cn/fav/addFav/DqhK1kH9N?rl=1&amp;st=ff2fed">æ”¶è—</a><!---->&nbsp;<span class="ct">04æœˆ10æ—¥ 09:36&nbsp;æ¥è‡ªè´è´å¾®åŠ©æ‰‹</span></div></div><div class="s"></div><div class="pa" id="pagelist"><form action="/search/mblog?hideSearchFrame=&amp;keyword=%E6%B5%81%E6%84%9F" method="post"><div><a href="/search/mblog?hideSearchFrame=&amp;keyword=%E6%B5%81%E6%84%9F&amp;page=96">ä¸‹é¡µ</a>&nbsp;<a href="/search/mblog?hideSearchFrame=&amp;keyword=%E6%B5%81%E6%84%9F&amp;page=94">ä¸Šé¡µ</a>&nbsp;<a href="/search/mblog?hideSearchFrame=&amp;keyword=%E6%B5%81%E6%84%9F">é¦–é¡µ</a>&nbsp;<input name="mp" type="hidden" value="100" /><input type="text" name="page" size="2" style='-wap-input-format: "*N"' /><input type="submit" value="è·³é¡µ" />&nbsp;95/100é¡µ</div></form></div><div class="pm" ><span class="pmf"><a href="#top" id="mblogform">è¿”å›é¡µé¢é¡¶éƒ¨</a><br/></span>é’ˆå¯¹"#æµæ„Ÿ#"è¯´ç‚¹ä»€ä¹ˆ:<form action="/mblog/sendmblog?st=ff2fed" accept-charset="UTF-8" method="post"><div><input type="hidden" name="rl" value="1" /><textarea name="content" rows="2" cols="20">#æµæ„Ÿ#</textarea><br/><input type="submit" value="å‘å¸ƒ" /></div></form></div><div class="cd"><a href="#top"><img src="http://u1.sinaimg.cn/3g/image/upload/0/62/203/18979/5e990ec2.gif" alt="TOP"/></a></div><div class="pms"> <a href="http://weibo.cn">é¦–é¡µ</a>.<a href="http://weibo.cn/topic/240489">åé¦ˆ</a>.<a href="http://weibo.cn/page/91">å¸®åŠ©</a>.<a  href="http://down.sina.cn/weibo/default/index/soft_id/1/mid/0"  >å®¢æˆ·ç«¯</a>.<a href="http://weibo.cn/spam/?rl=1&amp;type=3" class="kt">ä¸¾æŠ¥</a>.<a href="http://passport.sina.cn/sso/logout?r=http%3A%2F%2Fweibo.cn%2Fpub%2F%3Fvt%3D&amp;entry=mweibo">é€€å‡º</a></div><div class="c">è®¾ç½®:<a href="http://weibo.cn/account/customize/skin?tf=7_005&amp;st=ff2fed">çš®è‚¤</a>.<a href="http://weibo.cn/account/customize/pic?tf=7_006&amp;st=ff2fed">å›¾ç‰‡</a>.<a href="http://weibo.cn/account/customize/pagesize?tf=7_007&amp;st=ff2fed">æ¡æ•°</a>.<a href="http://weibo.cn/account/privacy/?tf=7_008&amp;st=ff2fed">éšç§</a></div><div class="c">å½©ç‰ˆ|<a href="http://m.weibo.cn/?tf=7_010">è§¦å±</a>|<a href="http://weibo.cn/page/521?tf=7_011">è¯­éŸ³</a></div><div class="b">weibo.cn[04-12 15:30]</div></body></html>
"""
# soup = BeautifulSoup(html)
# for item in soup.html.head.descendants:
#     print type(item)
#     print "<----->"
#html = '<html><body id="1">abc<div>123</div>def<div>456</div>ghi</body></html>'




